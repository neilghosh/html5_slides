<!DOCTYPE html> 
<!--
  Copyright 2010 Google Inc.
 
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
 
     http://www.apache.org/licenses/LICENSE-2.0
 
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
 
  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Chrome Developer Relations <chrome-devrel@googlegroups.com>
-->
<html>
    <head>  
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" />
        <title>HTML5 presentation</title>
        <link href="http://fonts.googleapis.com/css?family=Droid+Sans|Droid+Sans+Mono" rel="stylesheet" type="text/css" />
        <style>
            body {
                font: 20px "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
                padding: 0;
                margin: 0;
                width: 100%;
                height: 100%;
                position: absolute;
                left: 0px; top: 0px;
            }

            .presentation {
                position: absolute;
                height: 100%;
                width: 100%;
                left: 0px;
                top: 0px;
                display: block;
                overflow: hidden;
                background: #778;
            }

            .slides {
                width: 100%;
                height: 100%;
                left: 0;
                top: 0;
                position: absolute;
                display: block;
                -webkit-transition: -webkit-transform 1s ease-in-out;
                -moz-transition: -moz-transform 1s ease-in-out;
                -o-transition: -o-transform 1s ease-in-out;
                transition: transform 1s ease-in-out;

                /* so it's visible in the iframe. */
                -webkit-transform: scale(0.8);
                -moz-transform: scale(0.8);
                -o-transform: scale(0.8);
                transform: scale(0.8);

            }

            .slide {
                display: none;
                position: absolute;
                overflow: hidden;
                width: 1000px;
                height: 800px;
                left: 50%;
                top: 45%;
                margin-top: -350px;
                background-color: #eee;
                background: -webkit-gradient(linear, left bottom, left top, from(#bbd), to(#fff));
                background: -moz-linear-gradient(bottom, #bbd, #fff);
                background: linear-gradient(bottom, #bbd, #fff);
                -webkit-transition: all 0.25s ease-in-out;
                -moz-transition: all 0.25s ease-in-out;
                -o-transition: all 0.25s ease-in-out;
                transition: all 0.25s ease-in-out;
                -webkit-transform: scale(1);
                -moz-transform: scale(1);
                -o-transform: scale(1);
                transform: scale(1);
            }

            .slide:nth-child(even) {
                -moz-border-radius: 20px 0;
                -khtml-border-radius: 20px 0;
                border-radius: 20px 0; /* includes Opera 10.5+ */
                -webkit-border-top-left-radius: 20px;
                -webkit-border-bottom-right-radius: 20px;
            }

            .slide:nth-child(odd) {
                -moz-border-radius: 0 20px;
                -khtml-border-radius: 0 20px;
                border-radius: 0 20px;
                -webkit-border-top-right-radius: 20px;
                -webkit-border-bottom-left-radius: 20px;
            }

            .slide p, .slide textarea {
                font-size: 120%;
            }

            .slide .counter {
                color: #999999;
                position: absolute;
                left: 20px;
                bottom: 20px;
                display: block;
                font-size: 70%;
            }

            .slide.title > .counter,
            .slide.segue > .counter,
            .slide.mainTitle > .counter {
                display: none;
            }

            .force-render {
                display: block;
                visibility: hidden;
            }

            .slide.far-past {
                display: block;
                margin-left: -2400px;
            }

            .slide.past {
                visibility: visible;
                display: block;
                margin-left: -1400px;
            }

            .slide.current {
                visibility: visible;
                display: block;
                margin-left: -450px;
            }

            .slide.future {
                visibility: visible;
                display: block;
                margin-left: 500px;
            }

            .slide.far-future {
                display: block;
                margin-left: 1500px;
            }

            body.three-d div.slides {
                -webkit-transform: translateX(50px) scale(0.8) rotateY(10deg);
                -moz-transform: translateX(50px) scale(0.8) rotateY(10deg);
                -o-transform: translateX(50px) scale(0.8) rotateY(10deg);
                transform: translateX(50px) scale(0.8) rotateY(10deg);
            }

            /* Content */

            @font-face { font-family: 'Junction'; src: url(src/Junction02.otf); }
            @font-face { font-family: 'LeagueGothic'; src: url(src/LeagueGothic.otf); }

            header {
                font-family: 'Droid Sans';
                font-weight: normal;
                letter-spacing: -.05em;
                text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
                left: 30px;
                top: 25px;
                margin: 0;
                padding: 0;
                font-size: 140%;
            }

            h1 {
                font-size: 140%;
                display: inline;
                font-weight: normal;
                padding: 0;
                margin: 0;
            }

            h2 {
                font-family: 'Droid Sans';
                color: black;
                font-size: 120%;
                padding: 0;
                margin: 20px 0;
            }

            h2:first-child {
                margin-top: 0;
            }

            section, footer {
                font-family: 'Droid Sans';
                color: #3f3f3f;
                text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
                margin: 30px 30px 0;
                display: block;
                overflow: hidden;
            }

            footer {
                font-size: 100%;
                margin: 20px 0 0 30px;
            }

            a {
                color: inherit;
                display: inline-block;
                text-decoration: none;
                line-height: 110%;
                border-bottom: 2px solid #3f3f3f;
            }

            ul {
                margin: 0;
                padding: 0;
            }

            button {
                font-size: 100%;
            }

            pre button {
                margin: 2px;
            }

            section.left {
                float: left;
                width: 390px;
            }

            section.small {
                font-size: 24px;
            }

            section.small ul {
                margin: 0 0 0 15px;
                padding: 0;
            }

            section.small li {
                padding-bottom: 0;
            }

            section.middle {
                line-height: 2em;
                text-align: center;
                display: table-cell;
                vertical-align: middle;
                height: 700px;
                width: 900px;
            }

            pre {
                text-align: left;
                font-family: 'Droid Sans Mono', Courier;
                font-size: 80%;
                padding: 10px 20px;
                background: rgba(255, 0, 0, 0.05);
                -webkit-border-radius: 8px;
                -khtml-border-radius: 8px;
                -moz-border-radius: 8px;
                border-radius: 8px;
                border: 1px solid rgba(255, 0, 0, 0.2);
            }

            pre select {
                font-family: Monaco, Courier;
                border: 1px solid #c61800;
            }

            input {
                font-size: 100%;
                margin-right: 10px;
                font-family: Helvetica;
                padding: 3px;
            }
            input[type="range"] {
                width: 100%;
            }

            button {
                margin: 20px 10px 0 0;
                font-family: Verdana;
            }

            button.large {
                font-size: 32px;
            }

            pre b {
                font-weight: normal;
                color: #c61800;
                text-shadow: #c61800 0 0 1px;
                /*letter-spacing: -1px;*/
            }
            pre em {
                font-weight: normal;
                font-style: normal;
                color: #18a600;
                text-shadow: #18a600 0 0 1px;
            }
            pre input[type="range"] {
                height: 6px;
                cursor: pointer;
                width: auto;
            }

            div.example {
                display: block;
                padding: 10px 20px;
                color: black;
                background: rgba(255, 255, 255, 0.4);
                -webkit-border-radius: 8px;
                -khtml-border-radius: 8px;
                -moz-border-radius: 8px;
                border-radius: 8px;
                margin-bottom: 10px;
                border: 1px solid rgba(0, 0, 0, 0.2);
            }

            video {
                -moz-border-radius: 8px;
                -khtml-border-radius: 8px;
                -webkit-border-radius: 8px;
                border-radius: 8px;
                border: 1px solid rgba(0, 0, 0, 0.2);
            }

            .key {
                font-family: 'Droid Sans';
                color: black;
                display: inline-block;
                padding: 6px 10px 3px 10px;
                font-size: 100%;
                line-height: 30px;
                text-shadow: none;
                letter-spacing: 0;
                bottom: 10px;
                position: relative;
                -moz-border-radius: 10px;
                -khtml-border-radius: 10px;
                -webkit-border-radius: 10px;
                border-radius: 10px;
                background: white;
                box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
                -webkit-box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
                -moz-box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
                -o-box-shadow: rgba(0, 0, 0, 0.1) 0 2px 5px;
            }

            .key { font-family: Arial; }

            :not(header) > .key {
                margin: 0 5px;
                bottom: 4px;
            }

            .two-column {
                -webkit-column-count: 2;
                -moz-column-count: 2;
                column-count: 2;
            }

            .stroke {
                -webkit-text-stroke-color: red;
                -webkit-text-stroke-width: 1px;
            } /* currently webkit-only */

            .center {
                text-align: center;
            }

            #presentation-counter {
                color: #ccc;
                font-size: 70%;
                letter-spacing: 1px;
                position: absolute;
                top: 40%;
                left: 0;
                width: 100%;
                text-align: center;
            }

            div:not(.current).reduced {
                -webkit-transform: scale(0.8);
                -moz-transform: scale(0.8);
                -o-transform: scale(0.8);
                transform: scale(0.8);
            } 

            .no-transitions {
                -webkit-transition: none;
                -moz-transition: none;
                -o-transition: none;
                transition: none;
            }

            .no-gradients {
                background: none;
                background-color: #fff;
            }

            ul.bulleted {
                padding-left: 30px;
            }

        </style> 

    </head> 
    <body> 
        <div class="presentation"> 
            <div id="presentation-counter"></div> 
            <div class="slides"> 
                <div class="slide"> 
                    <section class="middle"> 
                        <h1>Introduction to HTML5</h1> 
                        <!--<p>Click here, Press <span class="key">&rarr;</span> key to advance.</p> -->
                        <br><br>
                        <h1>Sabyasachi Ghosh</h1>
                        <br><br>
                        <div style="float: bottom"><img style="float: bottom" src="twitter_logo.png"/><h1>@neilghosh</h1></div>
                    </section> 
                </div> 

                <div class="slide"> 
                    <section class="middle"> 
                        <h2> 
                            Attached Events
                        </h2> 
                        <ul> 
                            <li>[arrow keys] to go next and previous</li> 
                            <li>[mouse scroll wheel] to go next and previous</li> 
                            <li>[Ctrl or Command] + [+/-] to zoom in and out</li> 
                            <li>[touch gestures] for mobile devices</li> 
                        </ul> 
                    </section> 
                </div> 

                <div class="slide"> 
                    <section class="middle"> 
                        <h2> 
                            Options
                        </h2> 
                        <ul> 
                            <li><input type="checkbox" id="toggle-size" checked/><label for="toggle-size"><span>Grow</span></label></li> 
                            <li><input type="checkbox" id="toggle-transitions" checked /><label for="toggle-transitions"><span>Transitions</span></label></li> 
                            <li><input type="checkbox" id="toggle-gradients" checked /><label for="toggle-gradients"><span>Gradients</span></label></li> 
                            <li><input type="checkbox" id="toggle-counter" checked /><label for="toggle-counter"><span>Slide numbers</span></label></li> 
                        </ul> 
                    </section> 
                </div> 

                <div class="slide"> 
                    <section> 
                        <header> 
                            <h2>Placeholder content</h2> 
                        </header> 
                        <pre>// some sample code
&lt;canvas id="canvas" width="838" height="220"&gt;&lt;/canvas&gt;
 
&lt;script&gt;
  var canvasContext = document.getElementById("canvas").<b>getContext</b>("2d");
  canvasContext.<b>fillRect</b>(250, 25, 150, 100);
 
  canvasContext.<b>beginPath</b>();
  canvasContext.<b>arc</b>(450, 110, 100, Math.PI * 1/2, Math.PI * 3/2);
  canvasContext.<b>lineWidth</b> = 15;
  canvasContext.<b>lineCap</b> = 'round';
  canvasContext.<b>strokeStyle</b> = 'rgba(255, 127, 0, 0.5)';
  canvasContext.<b>stroke</b>();
&lt;/script&gt;
                        </pre> 
                        <ul class="bulleted"> 
                            <li>point 1</li> 
                            <li>point 2</li> 
                            <li>point 3</li> 
                        </ul> 
                    </section> 
                </div> 



                <div class="slide"> 
                    <section> 
                        <header> 
                            <h2>Rough Timeline of HTML</h2> 
                        </header> 
                        <table style="width: 100%;font-size:xx-large">
                            <tr>
                                <td> 1991</td>><td> HTML</td>
                            </tr><tr>
                                <td> 1994 </td>><td>HTML 2</td>
                            </tr><tr>
                                <td> 1996 </td>><td>CSS 1 + JavaScript</td>
                            </tr><tr>
                                <td> 1997</td>><td> HTML 4</td>
                            </tr><tr>
                                <td> 1998</td>><td> CSS 2</td>
                            </tr><tr>
                                <td> 2000 </td>><td>XHTML 1</td>
                            </tr><tr>
                                <td> 2002</td>><td> Tableless Web Design</td>
                            </tr><tr>
                                <td> 2005</td>><td> AJAX</td>
                            </tr><tr>
                                <td>2009 </td>><td>HTML 5</td>
                            </tr>
                        </table>
                        <!--
                        <ul class="bulleted"> 
                            <li>point 1</li> 
                            <li>point 2</li> 
                            <li>point 3</li> 
                        </ul> 
                        -->
                    </section> 
                </div>           



                <div class="slide"> 
                    <section class="middle"> 
                        <header> 
                            <h2>HTML5 ~= HTML + CSS + JS</h2> 
                        </header> 

                    </section> 
                </div>


                <div class="slide"> 
                    <section> 
                        <header> 
                            <h2>Agenda ...</h2> 
                        </header> 
                        <ul class="bulleted" style="font-size: xx-large"> 
                            <li>Offline / Storage</li>
                            <li>Realtime / Communication</li>
                            <li>File / Hardware Access</li>
                            <li>Semantics & Markup</li>
                            <li>Graphics / Multimedia</li>
                            <li>CSS3</li>
                            <li>Nuts & Bolts</li>
                        </ul>
                    </section> 
                </div>

                <div class="slide">
                    <section class="middle"> 
                        <header> 
                            <h1>Offline / Storage</h1> 
                        </header> 
                    </section>                     
                </div>
                <div class="slide">
                    <section> 
                        <header> 
                            <h1>Web Storage</h1> 
                        </header> 

                        <pre>
                            // use localStorage for persistent storage
                            // use sessionStorage for per tab storage
                            saveButton.addEventListener('click', function () {
                            window.<b>localStorage</b>.<b>setItem</b>('value', area.value);
                            window.<b>localStorage</b>.<b>setItem</b>('timestamp', (new Date()).getTime());
                            }, false);
                            textarea.value = window.<b>localStorage</b>.<b>getItem</b>('value');
                        </pre>
                        <p id="localstorage-message">Save text value on the client side (crash-safe)</p>
                        <textarea id="ta" placeholder="Type your text here..."></textarea>
                        <button id="save-ta">Save</button>
                        <p id="ta-log"></p>
                        <script defer>
                            (function(){

                                try {
                                    (window.localStorage.getItem) // will throw in Firefox under some settings
                                } catch(e){
                                    return; // quit because dom.storage.enabled is false
                                }

                                var area = document.querySelector('#ta');
                                // place content from previous edit
                                if (!area.value) {
                                    area.value = window.localStorage.getItem('value');
                                }
                                updateLog(false);
  
                                // your content will be saved locally
                                document.querySelector('#save-ta').addEventListener('click', function () {
                                    window.localStorage.setItem('value', area.value);
                                    window.localStorage.setItem('timestamp', (new Date()).getTime());
                                    updateLog(true);
                                }, false);

                                function updateLog(new_save) {
                                    var log = document.querySelector("#ta-log");
                                    var delta = 0;
                                    if (window.localStorage.getItem('value')) {
                                        delta = ((new Date()).getTime() - (new Date()).setTime(window.localStorage.getItem('timestamp'))) / 1000;
                                        if (new_save) {
                                            log.textContent = 'Saved. Content will be available after browser refresh/reopen.';
                                            setTimeout(function() {
                                                log.textContent = '';
                                            }, 3000);
                                        } else {
                                            log.textContent = 'last saved: ' + delta + 's ago';
                                        }
                                    }
                                }

                            })();  
                        </script>

                    </section>                     
                </div>

                <div class="slide">
                    <section>
                        <h1> Web SQL </h1>

                        <pre>var db = window.<b>openDatabase</b>("DBName", "1.0", "description", 5*1024*1024); //5MB
db.<b>transaction</b>(function(tx) {
  tx.<b>executeSql</b>(<em>"SELECT * FROM test"</em>, [], successCallback, errorCallback);
});
                        </pre>

                        <div class="center" id="websqldb-example">
                            <input type="text" id="todoitem" />
                            <button onclick="webSqlSample.newRecord()">new to do item</button>
                            <button onclick="webSqlSample.createTable()">create table</button>
                            <button onclick="webSqlSample.dropTable()">drop table</button>
                            <p>See the generated database: Developer > Developer Tools > Storage</p>
                            <ul class="record-list" id="db-results"></ul>
                            <div id="db-log"></div>
                        </div>
                        <script defer>
                            var webSqlSample = (function() {
                                var db;
                                var log = document.getElementById('db-log');
                                if (window.openDatabase) {
                                    db = openDatabase("DBTest", "1.0", "HTML5 Database API example", 200000);
                                    showRecords();  
                                }
                                document.getElementById('db-results').addEventListener('click', function(e) { e.preventDefault(); }, false);

                                function onError(tx, error) {
                                    log.innerHTML = '<p class="error">Error: ' + error.message + '</p>';
                                }

                                // select all records and display them
                                function showRecords() {
                                    document.getElementById('db-results').innerHTML = '';
                                    db.transaction(function(tx) {
                                        tx.executeSql("SELECT * FROM Table1Test", [], function(tx, result) {
                                            for (var i = 0, item = null; i < result.rows.length; i++) {
                                                item = result.rows.item(i);
                                                document.getElementById('db-results').innerHTML += 
                                                    '<li><span contenteditable="true" onkeyup="webSqlSample.updateRecord('+item['id']+', this)">'+
                                                    item['text'] + '</span> <a href="#" onclick="webSqlSample.deleteRecord('+item['id']+')">[Delete]</a></li>';
                                            }
                                        });
                                    });
                                }

                                function createTable() {
                                    db.transaction(function(tx) {
                                        tx.executeSql("CREATE TABLE Table1Test (id REAL UNIQUE, text TEXT)", [],
                                        function(tx) {  log.innerHTML = '<p>"Table1Test" created!</p>' },
                                        onError);
                                    });
                                }

                                // add record with random values
                                function newRecord() {
                                    var num = Math.round(Math.random() * 10000); // random data
                                    db.transaction(function(tx) {
                                        tx.executeSql("INSERT INTO Table1Test (id, text) VALUES (?, ?)", [num, document.querySelector('#todoitem').value],
                                        function(tx, result) {
                                            log.innerHTML = '';
                                            showRecords();
                                        }, 
                                        onError);
                                    });
                                }

                                function updateRecord(id, textEl) {
                                    db.transaction(function(tx) {
                                        tx.executeSql("UPDATE Table1Test SET text = ? WHERE id = ?", [textEl.innerHTML, id], null, onError);
                                    });
                                }

                                function deleteRecord(id) {
                                    db.transaction(function(tx) {
                                        tx.executeSql("DELETE FROM Table1Test WHERE id=?", [id],
                                        function(tx, result) { showRecords() }, 
                                        onError);
                                    });
                                }

                                // delete table from db
                                function dropTable() {
                                    db.transaction(function(tx) {
                                        tx.executeSql("DROP TABLE Table1Test", [],
                                        function(tx) { showRecords() }, 
                                        onError);
                                    });
                                }
              
                                return {
                                    newRecord: newRecord,
                                    createTable: createTable,
                                    updateRecord: updateRecord,
                                    deleteRecord: deleteRecord,
                                    dropTable: dropTable
                                }
                            })();
                        </script>

                    </section>
                </div>

                <div class="slide"> 
                    <section class="middle"> 
                        <header> 
                            <h1>Realtime / Communication</h1> 
                        </header> 

                    </section> 
                </div>


                <div class="slide realtime-communication" id="web-workers">
                    <style>
                        #wmap {
                            height: 200px;
                        }
                        #w-loading {
                            visibility: hidden;
                            display: inline;
                            background-color: red;
                            color: white;
                            padding: 5px;
                            border-radius: 5px;
                        }
                    </style>

                    <header> <h1>Web Workers</h1></header>
                    <section>
                        main.js:
                        <pre>
var worker = new <b>Worker</b>('task.js');
worker.<b>onmessage</b> = function(event) { alert(event.data); };
worker.<b>postMessage</b>('data');
                        </pre>
                        task.js:
                        <pre>
self.<b>onmessage</b> = function(event) {
  // Do some work.
  self.<b>postMessage</b>("recv'd: " + event.data);
};
                        </pre>

                        <div id="w-wrapper">
                            <div id="wmap" class="gmap example">
                                <img src="http://maps.google.com/maps/api/staticmap?center=13,13&zoom=3&size=680x200&sensor=false"/>
                            </div>
                            <div style="margin-top:5px">
                                <button id="find-route-y">Find route with Workers</button>
                                <button id="find-route-n">Find route without Workers</button>
                                <p id="w-loading">Loading Route...</p>
                            </div>
                            <p style="font-size: 90%;" class="center">Try dragging the map while the complex route is being calculated (you will only be able to do that with Workers!)</p>
                        </div>
                        <script src="points.js" defer></script>
                        <script src="annealing.js" defer></script>
                        <script defer>
                            (function() {
                                var markersArray = [];
                                var map = null;
                                var useThreads = false;

                                document.querySelector('#w-wrapper').addEventListener('click', function(event) {
                                    if (!map) {
                                        map = new google.maps.Map(document.querySelector('#wmap'), {
                                            zoom: 3,
                                            center: new google.maps.LatLng(13, 13),
                                            mapTypeId: google.maps.MapTypeId.ROADMAP
                                        });
                                        map.getDiv().style.border =  '1px solid #ccc';
                                        drawPoints();
                                    }

                                    if (event.target.id == 'find-route-y') {
                                        useThreads = true;
                                        document.querySelector('#w-loading').style.visibility = 'visible';
                                        test();
                                    } else if (event.target.id == 'find-route-n'){
                                        useThreads = false;
                                        document.querySelector('#w-loading').style.visibility = 'visible';
                                        // this setTimout is so that we see the 'loading' label
                                        setTimeout(function() { test(); }, 10);
                                    }
                                }, false);

                                function drawPath(path) {
                                    var firstPoint = true;
                                    var l = p1.length;
                                    var scaleFactor = 5;
                                    for (var i = 0; i < l - 1; ++i) {
                                        var points = [
                                            new google.maps.LatLng(p1[i].x / scaleFactor,
                                            p1[i].y / scaleFactor),
                                            new google.maps.LatLng(p1[i + 1].x / scaleFactor,
                                            p1[i + 1].y / scaleFactor)
                                        ];
                                        var polyline = new google.maps.Polyline(
                                        {path: points, strokeColor: '#ff0000', strokeWeight: 1});
                                        markersArray.push(polyline);
                                        polyline.setMap(map);
                                    }
                                }

                                function drawPoints() {
                                    var blueIcon = new google.maps.MarkerImage(
                                    'point.png',
                                    new google.maps.Size(3, 3), // size
                                    new google.maps.Point(0, 0), // origin
                                    new google.maps.Point(0, 0)); // anchor
                                    for (var i = 0; i < p1.length; ++i) {
                                        // Render in Gmap instead of canvas
                                        var point = new google.maps.LatLng(p1[i].x / 5, p1[i].y / 5);
                                        var marker = new google.maps.Marker({
                                            position: point, icon: blueIcon, map: map});
                                        markersArray.push(marker);
                                    }
                                }

                                function deleteOverlays() {
                                    if (markersArray) {
                                        for (var i in markersArray) {
                                            markersArray[i].setMap(null);
                                        }
                                        markersArray = [];
                                    }
                                }

                                function test() {
                                    var name = "Test 1";
                                    var self = this;
                                    deleteOverlays();
                                    drawPoints();
                                    setTimeout(function() {
                                        var opts = {
                                            points: p1,
                                            t0: 1,
                                            g: 0.99,
                                            stepsPerT: 10
                                        };
                                        var callback = {
                                            name: name,
                                            newMin: function(p) {
                                            },
                                            draw: function(p) {
                                                document.querySelector('#w-loading').style.visibility = 'hidden';
                                                drawPath(p);
                                            }
                                        };
                                        var a;
                                        if (useThreads) {
                                            var worker = new Worker('worker.js')
                                            worker.onmessage = function(event) {
                                                var returnedData = JSON.parse(event.data);
                                                var msg = returnedData[0];
                                                var p = returnedData[1];
                                                callback[msg](p);
                                            };
                                            worker.onerror = function(event) {
                                                console.log(event);
                                            };
                                            worker.postMessage(JSON.stringify({
                                                opts: opts,
                                                width: 200,
                                                height: 200
                                            }));
                                        } else {
                                            var annealing = new Annealing();
                                            var callback2 = {
                                                onNewMin: function(p) {
                                                    // postMessage('newmin')
                                                },
                                                onDone: function(p) {
                                                    document.querySelector('#w-loading').style.visibility = 'hidden';
                                                    drawPath(p);
                                                }
                                            };
                                            annealing.init(opts, opts.width, opts.height, callback2);
                                            annealing.go();
                                        }
                                    }, 10);
                                }
                            })();
                        </script>
                    </section>
                </div>





                <div class="slide realtime-communication" id="web-sockets">
                    <style>
                        #websockets-message {
                            text-align: center;
                            padding: 0px;
                        }
                        #ws-left {
                            float: left;
                            width: 490px;
                            padding-right: 10px
                        }
                        #ws-left h4 {
                            margin: 10px 0 0 0;
                        }
                        #ws-right {
                            float: left;
                            width: 300px;
                            border-left: solid 1px #9a9ab3;
                            padding-left: 20px;
                        }
                        #wsConsoleLog {
                            background-color: white;
                            border: solid 1px #999;
                            border-top-color: #ccc;
                            border-left-color: #ccc;
                            padding: 5px;
                            width: 290px;
                            height: 175px;
                            overflow-y: auto;
                        }
                        #wsConsoleLog p:first-of-type {
                            margin: 0 0;
                        }
                        #wsConsoleLog p {
                            margin: 0.5em 0;
                            font-size: 12px;
                        }
                        #ws-left input[type='text'] {
                            width: 370px;
                        }
                        #wsSecureCb {
                            position: relative;
                            top: 2px;
                        }
                        #wsSecureCbLabel {
                            position: relative;
                            left: -10px;
                        }
                        #ws-left button,
                        #ws-right button {
                            margin-top: 5px;
                            font-size: 14px;
                        }
                        #ws-config-config, #ws-config-message {
                            margin-top: 15px;
                        }
                        #ws-right button {
                            font-size: 14px;
                            margin-top: 3px;
                        }
                        #ws-powered {
                            text-align: center;
                            padding-top: 15px;
                            clear: both;
                        }
                        #ws-powered a {
                            border: 0
                        }
                        #wsKaazingLogo {
                            position: relative;
                            top: 4px;
                            left: 2px;
                            border: 0;
                        }
                    </style>
                    <header><h1>WebSocket</h1></header>
                    <section>
                        <pre>var socket = new <b>WebSocket</b>('ws://html5rocks.websocket.org/echo');
socket.<b>onopen</b> = function(event) {
  socket.<b>send</b>('Hello, WebSocket');
};
socket.<b>onmessage</b> = function(event) { alert(event.data); }
socket.<b>onclose</b> = function(event) { alert('closed'); }
                        </pre>

                        <p id="websockets-message">Full-duplex, bi-directional communication over the Web:
                            Both the server and client can send data at any time, or even at the same time.
                            Only the data itself is sent, without the overhead of HTTP headers, dramatically
                            reducing bandwidth.</p>

                        <div id="ws-left">
                            Use the echo demo below to test a WebSocket connection from your browser.
                            Both the message you send and the response you receive travel over the same WebSocket connection.

                            <div id="ws-config-location">
                                <h4>Location:</h4>
                                <input type="text" id="wsUri" disabled />
                                <br>
                                <input type="checkbox" id="wsSecureCb" onclick="wsToggleTls();" disabled />
                                <label id="wsSecureCbLabel" for="wsSecureCb">Use secure WebSocket (TLS/SSL)</label>
                                <br>
                                <button id="wsConnectBut" disabled>Connect</button>
                                <button id="wsDisconnectBut" disabled>Disconnect</button>
                            </div>
                            <div id="ws-config-message">
                                <h4>Message:</h4>
                                <input  type="text" id="wsMessage" value="Hello, WebSocket" disabled />
                                <button id="wsSendBut" disabled>Send</button>
                            </div>
                        </div>
                        <div id="ws-right">
                            <div id="ws-log">
                                <strong>Output:</strong>
                                <div id="wsConsoleLog"></div>
                                <button id="wsClearLogBut">Clear log</button>
                            </div>
                        </div>
                        <div id="ws-powered">
                            Demo powered by <a href="http://kaazing.com" target="_blank"><img id="wsKaazingLogo" src="kaazing-logo_99x16.png" width="99" height="16" alt="Powered by Kaazing" /></a>
                        </div>

                    </section>
                    <script src="websocket.js" defer></script>
                </div>



                <div class="slide"> 
                    <section class="middle"> 
                        <header> 
                            <h1>File / Hardware Access</h1> 
                        </header> 

                    </section> 
                </div>


                <div class="slide"> 


                    <style>
                        #drag-zone {
                            list-style: none;
                            float: left;
                        }
                        #drag-zone li * {
                            border: 4px solid #888;
                            display: block;
                        }
                        #drag-zone, #drop-zone, #drop-data { width: 20%; }
                        #drop-zone, #drop-data {
                            padding: 40px;
                            border: 5px solid #888;
                            float: right;
                            height: 200px;
                            overflow: auto;
                        }
                        #drop-zone.hovering {
                            border: 5px solid #aaa;
                            background-color: rgba(255, 0, 0, 0.199219);
                        }
                        #drop-data { 
                            background-color: #eee;
                            font-family: Monospace;
                            -ms-word-wrap: break-word;
                            word-wrap: break-word;
                        }
                        .datatypes {
                            font-weight: bold;
                        }
                        .draggable-text {
                            padding: 5px;
                        }
                    </style>


                    <section> 
                        <header> 
                            <h1>Native Drag and Drop</h1> 
                        </header> 
                        <section id="dnd-section">
                            <pre>document.addEventListener(<em>'dragstart'</em>, function(event) {
                                event.<b>dataTransfer.setData</b>('text', 'Customized text');
                                event.<b>dataTransfer.effectAllowed</b> = 'copy';
                                }, false);
                            </pre>
                            <ol id="drag-zone">
                                <li><span class="draggable-text" draggable>Select text and drag (original text will be dropped)</span></li>
                                <li><span class="draggable-text" draggable class="overwrite">Select text and drag (dragged text data will be altered from original)</span></li>
                            </ol>
                            <div id="drop-data">Source Data</div>
                            <div id="drop-zone">Drop Area</div>
                            <script defer>
                                (function() {
                                    var dragZone = document.querySelector('#drag-zone');
                                    var dropZone = document.querySelector('#drop-zone');
                                    dragZone.addEventListener('dragstart', function(event) {
                                        if (event.target.className) { // img case
                                            event.dataTransfer.effectAllowed = event.target.className;
                                            event.target.style.border = "4px solid #cc3300";
                                        }
                                        else { // text case
                                            if (event.target.parentNode.className == 'overwrite') {
                                                event.dataTransfer.setData("text", "<strong>Overwritten Content</strong>");
                                            }
                                            event.target.parentNode.style.border = "4px solid #cc3300";
                                        }
                                        return true;
                                    }, true);
                                    dragZone.addEventListener('dragend', function(event) {
                                        if (event.target.className) { // img case
                                            event.target.style.border = "4px solid #888";
                                        }
                                        else { // text case
                                            event.target.parentNode.style.border = "4px solid #888";
                                        }
                                        return true;
                                    }, true);
                                    dropZone.addEventListener('dragenter', function(event) {
                                        if (event.preventDefault) event.preventDefault();
                                        event.dataTransfer.dropEffect = 'copy';
                                        this.className = 'hovering';
                                        return false;
                                    }, false);
                                    dropZone.addEventListener('dragover', function(event) {
                                        if (event.preventDefault) event.preventDefault(); // allows us to drop
                                        event.dataTransfer.dropEffect = 'copy';
                                        return false;
                                    }, false);
                                    dropZone.addEventListener('dragleave', function(event) {
                                        if (event.preventDefault) event.preventDefault(); // allows us to drop
                                        this.className = '';
                                        return false;
                                    }, false);
                                    dropZone.addEventListener('drop', function(event) {
                                        if (event.preventDefault) event.preventDefault();
                                        var imgPassed = null;
                                        var dropdata = document.querySelector('#drop-data');
                                        var types = event.dataTransfer.types;
                                        document.querySelector('#drop-data').textContent = '';
                                        this.innerHTML = '';
                                        for (var i = 0; i < types.length; i++) {
                                            if (types[i] == 'Files') {
                                                var files = event.dataTransfer.files;
                                                for (var j = 0; j < files.length; j++) {
                                                    dropdata.textContent += 'File Name: '+files[j].fileName;
                                                    dropdata.textContent += 'File Size: '+files[j].fileSize;
                                                }
                                            }
                                            else {
                                                if (typeof event.dataTransfer.getData(types[i]) !== 'undefined') {
                                                    dropdata.innerHTML += '<p><em class="datatypes">'+types[i]+'</em>: <br />'+event.dataTransfer.getData(types[i]).replace(/</g, '&lt;') + '</p>';
                                                }
                                            }

                                            if (types[i] == 'text/uri-list') {
                                                imgPassed = event.dataTransfer.getData('text/uri-list');
                                            }
                                        }
                                        if (imgPassed) {
                                            var cEl = document.createElement('canvas');
                                            cEl.width = 200;
                                            cEl.height = 100;
                                            var ctx = cEl.getContext('2d');
                                            var img_buffer = document.createElement('img');
                                            img_buffer.src = imgPassed;
                                            img_buffer.style.display = 'none';
                                            document.body.appendChild(img_buffer); // this line only needed in safari
                                            img_buffer.onload = function() { ctx.drawImage(img_buffer,0,0,100,100); }
                                            this.appendChild(cEl);
                                        } else {
                                            if (event.dataTransfer.getData('text')) {
                                                this.innerHTML = event.dataTransfer.getData('text');
                                            }
                                            else if (event.dataTransfer.getData('text/plain')) {
                                                this.innerHTML = event.dataTransfer.getData('text/plain');
                                            }
                                        }
                                        return false;
                                    }, false);
                                })();
                            </script>
                        </section>
                    </section> 
                </div>

                <div class="slide" id="drag-in">
                    <style>
                        #dropzone {
                            height: 150px;
                            width: 100%;
                            -webkit-border-radius: 10px;
                            -khtml-border-radius: 10px;
                            -moz-border-radius: 10px;
                            border-radius: 10px;
                            border: 2px dashed #0687FF;
                        }
                        #dropzone.rounded {
                            -webkit-box-shadow: inset 0px 0px 50px #777;
                            -moz-box-shadow: inset 0px 0px 50px #777;
                            -o-box-shadow: inset 0px 0px 50px #777;
                            box-shadow: inset 0px 0px 50px #777;
                        }
                        #dnd-thumbnails {
                            height: 125px;
                            margin-top: 10px;
                        }
                        #dnd-thumbnails img {
                            width: 75px;
                            height: 75px;
                            border: 1px solid black;
                            margin-right: 10px;
                            -webkit-transition: -webkit-transform 0.2s ease-in, margin-left 0.7s ease-in-out, margin-right 0.7s ease-in-out;
                            -moz-transition: -moz-transform 1s ease-in-out, margin-left 0.7s ease-in-out, margin-right 0.7s ease-in-out;
                            -o-transition: -o-transform 1s ease-in-out, margin-left 1s ease-in-out, margin-left 0.7s ease-in-out, margin-right 0.7s ease-in-out;
                        }
                        #dnd-thumbnails img:hover {
                            -webkit-transform: scale(3.0) rotate(10deg);
                            -webkit-transform-origin: 50% 75px;
                            -moz-transform: scale(3.0) rotate(10deg);
                            -moz-transform-origin: 50% 75px;
                            margin: 0 100px;
                        }
                    </style>

                    <section>
                        <header><h1>Desktop Drag-In (File API)</h1></header>
                        <h3>Drag files in from the desktop:</h3>
                        <pre>
                            document.querySelector('#dropzone').addEventListener('drop', function(e) {
                            var reader = new <b>FileReader</b>();
                            reader.onload = function(evt) {
                                document.querySelector('img').src = evt.target.<b>result</b>;
                            };

                            reader.<b>readAsDataURL</b>(e.<b>dataTransfer.files[0]</b>);
                            }, false);
                        </pre>
                        <div class="example">
                            <div id="dropzone" class="vbox boxcenter center">
                                Drop in images from your desktop
                            </div>
                        </div>
                        <div id="dnd-thumbnails" class="center"></div>

                        <script src="dnd-lib.js" defer></script>
                        <script defer>
                            window.addEventListener('load', function(e) {
                                var dndc = new DNDFileController('dropzone', 'dnd-thumbnails');
                            }, false);
                        </script>
                    </section>
                </div>



                <div class="slide" id="geolocation">
                    <style>
                        #see-position {
                            margin-bottom: 10px;
                        }
                        #geo-map {
                            height: 180px;
                            width: 640px;
                        }
                        #geo-log {
                            background-color: red;
                            color: white;
                            padding: 5px;
                            border-radius: 5px;
                            visibility: hidden;
                        }
                    </style>

                    <section>
                        <header><h1>Geolocation</h1></header>
                        <pre>if (<b>navigator</b>.<b>geolocation</b>) {
                <b>navigator</b>.<b>geolocation</b>.<b>getCurrentPosition</b>(function(position) {
                    var latLng = new google.maps.LatLng(
                        position.<b>coords</b>.<b>latitude</b>, position.<b>coords</b>.<b>longitude</b>);
                    var marker = new google.maps.Marker({position: latLng, map: map});
                    map.setCenter(latLng);
                }, errorHandler);
                }
                        </pre>
                        <button id="see-position">Show Position</button> <span id="geo-log"></span>
                        <div id="geo-map" class="gmap example">
                            <img src="http://maps.google.com/maps/api/staticmap?center=37.4419,-94.1419&zoom=3&size=680x178&sensor=true"/>
                        </div>

                        <script defer>
                            (function() {
                                var map = null;
                                var geolog = document.querySelector('#geo-log');
                                var geoMap = document.querySelector('#geo-map');

                                function showPosition(position) {
                                    geolog.textContent = "You're within " + position.coords.accuracy +
                                        " meters of (" + position.coords.latitude + ", " +
                                        position.coords.longitude + ")";
                                    var latLng = new google.maps.LatLng(
                                    position.coords.latitude, position.coords.longitude);
                                    var marker = new google.maps.Marker({
                                        position: latLng,
                                        map: map
                                    });
                                    map.setCenter(latLng);
                                    map.setZoom(15);
                                }

                                function handlePositionError(evt) {
                                    geolog.textContent = evt.message;
                                }

                                function successPositionHandler(evt) {
                                    // Load map if it doesn't already exist and when user clicks the button.
                                    if (!map) {
                                        map = new google.maps.Map(geoMap, {
                                            zoom: 3,
                                            center: new google.maps.LatLng(37.4419, -94.1419), // United States
                                            mapTypeId: google.maps.MapTypeId.ROADMAP
                                        });
                                        map.getDiv().style.border =  '1px solid #ccc';
                                    }

                                    if (navigator.geolocation) {
                                        geolog.style.visibility = 'visible';
                                        geolog.textContent = 'Looking for location...';
                                        navigator.geolocation.getCurrentPosition(showPosition, handlePositionError);
                                        // Also monitor position as it changes.
                                        //navigator.geolocation.watchPosition(showPosition, handlePositionError);
                                    } else {
                                        geolog.textContent = 'Oops! Your browser does not support geolocation.';
                                    }
                                }

                                document.querySelector('#see-position').addEventListener('click', successPositionHandler, false);
                                geoMap.addEventListener('click', successPositionHandler, false);
                            })();
                        </script>
                    </section>
                </div>

                <div class="slide" id="speech-input">
                    <style>
                        #speech-input-field {
                            width: 400px;
                            height: 50px;
                            padding: 10px 15px;
                            font-size: 155%;
                            border-radius: 10px;
                            border: 1px solid #ccc;
                            outline: 0;
                        }
                    </style>
                    <header><span class="html">HTML</span> <h1>Speech Input</h1></header>
                    <section>

                        <pre>&lt;input type="text" <b>x-webkit-speech</b> /&gt;</pre>

                        <div class="flex hbox boxcenter">
                            <div class="noflex vbox boxcenter" style="height:300px;text-align:center">
                                <input id="speech-input-field" type="text" x-webkit-speech />
                                <p style="display:none">Speech input is not enabled in your browser.<br>
                                    Try running Google Chrome with the <code>--enable-speech-input</code> flag.</p>
                            </div>
                        </div>
                        <script>
                            if (!('webkitSpeech' in document.createElement('input'))) {
                                document.querySelector('#speech-input p').style.display = 'block';
                            }
                        </script>
                    </section>
                </div>




                <div class="slide " id="semantics-markup-title">
                    <section class="middle">
                        <h2>Semantics &amp; Markup</h2>
                    </section>
                </div>

                <div class="slide " id="semantic-tags-1">
                    
                    <section>
                        <header> <h1>Better semantic tags</h1></header>
                        <style>
                            #semantic-tags-1 {
                                font-size: 100%;
                            }
                        </style>
                        <style>
                        .two-column {
                            -webkit-column-count: 2;
                            -moz-column-count: 2;
                            column-count: 2;
                        }
                    </style>
                        <pre class="two-column">&lt;body&gt;
&lt;<b>header</b>&gt;
    &lt;<b>hgroup</b>&gt;
    &lt;h1&gt;Page title&lt;/h1&gt;
    &lt;h2&gt;Page subtitle&lt;/h2&gt;
    &lt;/hgroup&gt;
&lt;/header&gt;

&lt;<b>nav</b>&gt;
&lt;ul&gt;
    Navigation...
&lt;/ul&gt;
&lt;/nav&gt;
&lt;<b>section</b>&gt;
&lt;<b>article</b>&gt;
    &lt;<b>header</b>&gt;
    &lt;h1&gt;Title&lt;/h1&gt;
    &lt;/header&gt;
    &lt;section&gt;
    Content...
    &lt;/section&gt;
&lt;/article&gt;
&lt;article&gt;
    &lt;header&gt;
    &lt;h1&gt;Title&lt;/h1&gt;
    &lt;/header&gt;
    &lt;section&gt;
    Content...
    &lt;/section&gt;
&lt;/article&gt;
&lt;/section&gt;

&lt;<b>aside</b>&gt;
Top links...
&lt;/aside&gt;

&lt;<b>figure</b>&gt;
    &lt;img src="..."/&gt;
    &lt;<b>figcaption</b>&gt;Chart 1.1&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;<b>footer</b>&gt;
Copyright &copy;<br>   &lt;<b>time</b> <b>datetime</b>="2010-11-08"&gt;2010&lt;/time&gt;.
&lt;/footer&gt;
&lt;/body&gt;
                        </pre>
                    </section>
                </div>

                <div style="text-align: left" class="slide" id="semantic-tags-2">

                    <style>
                        #semantic-tags-2 {
                            font-size: 15px;
                        }
                        #cars-input {
                            width: 500px;
                        }
                        #cars {
                            display: none;
                        }
                        #semantic-tags-2 pre {
                            font-size: 100%;
                        }
                    </style>
                    <section>
                        <header> <h1>Markup for applications</h1></header>
                        <pre>
&lt;input <b>list</b>="cars"/&gt;
&lt;<b>datalist</b> id="cars"&gt;
&lt;option value="BMW"/&gt;
&lt;option value="Ford"/&gt;
&lt;option value="Volvo"/&gt;
&lt;/<b>datalist</b>&gt;
<input id="cars-input" placeholder="You should see an autocomplete menu as you type" list="cars" />
<datalist id="cars">
<option value="BMW" />
<option value="Ford" />
<option value="Volvo" />
</datalist>
&lt;<b>menu</b>&gt;
&lt;<b>command</b> type="command" disabled label="Publish" /&gt;
&lt;/<b>menu</b>&gt;

&lt;<b>details</b>&gt;
&lt;<b>summary</b>&gt;HTML 5&lt;/<b>summary</b>&gt;
This slide deck teaches you everything you need to know about HTML 5.
&lt;<b>/details</b>&gt;
<details><summary>HTML 5</summary>This slide deck teaches you everything you need to know about HTML 5.</details>
                        </pre>

                        <pre>
&lt;<b>meter</b> <b>min</b>="0" <b>max</b>="100" <b>low</b>="40" <b>high</b>="90" <b>optimum</b>="100" value="91"&gt;A+&lt;/<b>meter</b>&gt;
Your score is: <meter value="91" min="0" max="100" low="40" high="90" optimum="100">A+</meter><br>
&lt;<b>progress</b>&gt;working...&lt;/<b>progress</b>&gt;
Download is: <progress>working...</progress><br>
&lt;<b>progress</b> value="75" <b>max</b>="100"&gt;3/4 complete&lt;/<b>progress</b>&gt;
Goal is: <progress value="75" max="100">3/4 complete</progress>
                        </pre>

                    </section>
                </div>

                <div class="slide">


                    <section>
                        <header> <h1>New form types</h1></header>
                        <style>
                            .form-inputs {
                                font-size: 80%;
                            }
                            .form-inputs input {
                                float: right;
                                border: 1px solid #CCC;
                                -webkit-box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset;
                                -moz-box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset;
                                -o-box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset;
                                box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset;
                                padding: 3px 5px;
                            }
                            input[required] {
                                border-color: #88a;
                                -webkit-box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset, rgba(0, 0, 255, 0.5) 0px 0px 3px;
                                -moz-box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset, rgba(0, 0, 255, 0.5) 0px 0px 3px;
                                -o-box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset, rgba(0, 0, 255, 0.5) 0px 0px 3px;
                                box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset, rgba(0, 0, 255, 0.5) 0px 0px 3px;
                            }
                            input:invalid {
                                border-color: #e88;
                                -webkit-box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset, 0 0 5px rgba(255, 0, 0, .8);
                                -moz-box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset, 0 0 5px rgba(255, 0, 0, .8);
                                -o-box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset, 0 0 5px rgba(255, 0, 0, .8);
                                box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 3px inset, 0 0 5px rgba(255, 0, 0, .8);
                            }
                        </style>
                        <pre>
&lt;style&gt;
  [required] {
    border-color: #88a;
    -webkit-box-shadow: 0 0 3px rgba(0, 0, 255, .5);
  }
  :invalid {
    border-color: #e88;
    -webkit-box-shadow: 0 0 5px rgba(255, 0, 0, .8);
  }
&lt;/style&gt;
                        </pre>
                        <pre class="form-inputs">
<input type="text" required />&lt;input type="text" <b>required</b> /&gt;

<input type="email" value="some@email.com" />&lt;input type="<b>email</b>" value="some@email.com" /&gt;

<input type="date" min="2010-08-14" max="2011-08-14" value="2010-08-14" />&lt;input type="<b>date</b>" <b>min</b>="2010-08-14" <b>max</b>="2011-08-14" 
value="2010-08-14"/&gt;
<input type="range" min="0" max="50" value="10" />&lt;input type="<b>range</b>" <b>min</b>="0" <b>max</b>="50" value="10" /&gt;
<input results="10" type="search" placeholder="Search..." />&lt;input type="<b>search</b>" <b>results</b>="10" <b>placeholder</b>="Search..." /&gt;

<input type="tel" placeholder="(555) 555-5555" pattern="^\(?\d{3}\)?[-\s]\d{3}[-\s]\d{4}.*?$" />&lt;input type="<b>tel</b>"  <b>placeholder</b>="(555) 555-5555"
         <b>pattern</b>="^\(?\d{3}\)?[-\s]\d{3}[-\s]\d{4}.*?$" /&gt;

<input type="color" placeholder="e.g. #bbbbbb" />&lt;input type="<b>color</b>" <b>placeholder</b>="e.g. #bbbbbb" /&gt;

<input type="number" step="1" min="-5" max="10" value="0" />&lt;input type="<b>number</b>" <b>step</b>="1" <b>min</b>="-5" <b>max</b>="10" value="0" /&gt;
<div style="height:0px; clear:both;">
                        </pre>
                    </section>
                </div>

                <div class="slide" id="form-types-mobile">

                    <section >
                        <header> <h1>Form field types on mobile</h1></header>
                        <style type="text/css" media="screen">
                            #form-types-mobile div {
                                float: left;
                                width: 24%;
                                padding-right: 1%;
                                text-align: center;
                            }
                            #form-types-mobile img {
                                width: 90%;
                                -webkit-box-shadow: rgba(0, 0, 0, 0.3) 0 4px 6px;
                            }
                        </style>
                        <div>
                            <pre>type="<em>text</em>"</pre>
                            <figure>
                                <img src="android-form-text.png" alt="android keyboard on input type text" />
                                <figcaption>Android Device</figcaption>
                            </figure>
                        </div>
                        <div>
                            <pre>type="<em>number</em>"</pre>
                            <figure>
                                <img src="android-form-number.png" alt="android keyboard on input type number" />
                                <figcaption>Android Device</figcaption>
                            </figure>
                        </div>
                        <div>
                            <pre>type="<em>email</em>"</pre>
                            <figure>
                                <img src="iphone-form-email.png" alt="iphone keyboard on input type email" />
                                <figcaption>iPhone Device</figcaption>
                            </figure>
                        </div>
                        <div>
                            <pre>type="<em>tel</em>"</pre>
                            <figure>
                                <img src="iphone-form-tel.png" alt="iphone keyboard on input type tel" />
                                <figcaption>iPhone Device</figcaption>
                            </figure>
                        </div>
                    </section>
                </div>
                <div class="slide" id="graphics-multimedia-title">
                    <section class="middle">
                        <h2>Graphics / Multimedia</h2>


                    </section>
                </div>



                <div class="slide" id="video-audio">
                    <style>
                        #video-column {
                            float: left;
                            width: 50%;
                            margin-top: 20px;
                        }
                        #reflection-button {
                            margin: 20px 0;
                        }
                        #audio-column {
                            float: left;
                            width: 45%;
                            margin-top: 120px;
                        }
                        .media-buttons {
                            margin: 40px 0;
                        }
                    </style>

                    <section>
                        <header> <h1>Audio + Video</h1></header>
                        <pre>&lt;<b>audio</b> id="audio" src="sound.mp3" <b>controls</b>&gt;&lt;/audio&gt;
document.getElementById("audio").<b>muted</b> = false;
                        </pre>
                        <pre>
&lt;<b>video</b> id="video" src="movie.webm" <b>autoplay</b> <b>controls</b>&gt;&lt;/video&gt;
document.getElementById("video").<b>play</b>();
                        </pre>
                        <div id="video-column" class="center">
                            <input type="button" id="reflection-button" onclick="addReflection()" value="Add CSS reflection to video" />
                            <video width="390" id="clip" controls>
                                <source src="chrome_japan.webm" type='video/webm; codecs="vp8, vorbis"' />
                                <source src="chrome_japan.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"' />
                                <source src="chrome_japan.ogv" type='video/ogg; codecs="theora, vorbis"' />
                                Your browser does not support the video tag
                            </video>
                            <div class="media-buttons">
                                <input type="button" id="play-button" onclick="PlayVideo()"; value="Play" />
                                       <input type="button" id="pause-button" onclick="PauseVideo()"; value="Pause" disabled />
                                       <input type="button" id="mute" onclick="MuteUnMute()" value="Mute" />
                            </div>
                        </div>

                        <div id="audio-column" class="center">
                            <audio id="audio-clip" width="670" controls>
                                <source src="rushus-modal_blues.mp3" type="audio/mpeg" />
                                <source src="rushus-modal_blues.ogg" type="audio/ogg" />
                                Your browser does not support the audio tag
                            </audio>
                            <div class="media-buttons">
                                <input type=button id="audio-play-button" onclick="PlayAudio()" value="Play" />
                                <input type=button id="audio-pause-button" onclick="PauseAudio()" value="Pause" disabled />
                                <input type=button id="audio-mute" onclick="MuteUnMuteAudio()" value="Mute" />
                            </div>
                        </div>
                    </section>
                    <script defer>
                        var videoClip = document.getElementById('clip');
                        var playButton = document.getElementById('play-button');
                        var pauseButton = document.getElementById('pause-button');

                        function PlayVideo() {
                            videoClip.play();
                            playButton.disabled = true;
                            pauseButton.disabled = false;
                        }

                        function PauseVideo() {
                            videoClip.pause();
                            playButton.disabled = false;
                            pauseButton.disabled = true;
                        }

                        function MuteUnMute() {
                            document.getElementById('mute').value = videoClip.muted ? 'Mute' : 'Unmute';
                            videoClip.muted = videoClip.muted ? false : true;
                        }

                        function OnFinished() {
                            playButton.disabled = false;
                            pauseButton.disabled = true;
                        }

                        function addReflection() {
                            videoClip.style.webkitBoxReflect = videoClip.style.webkitBoxReflect !== '' ? '' : "below 0px -webkit-gradient(linear, 0% 0%, 0% 100%, from(transparent), color-stop(0.55, transparent), to(white))";
                        }
                    </script>

                    <script defer>
                        var audioClip = document.getElementById('audio-clip');
                        var audioPlayButton = document.getElementById('audio-play-button');
                        var audioPauseButton = document.getElementById('audio-pause-button');
                        audioClip.addEventListener('ended', OnAudioFinished, false);

                        function PlayAudio() {
                            audioClip.play();
                            audioPlayButton.disabled = true;
                            audioPauseButton.disabled = false;
                        }

                        function PauseAudio() {
                            audioClip.pause();
                            audioPlayButton.disabled = false;
                            audioPauseButton.disabled = true;
                        }

                        function MuteUnMuteAudio() {
                            document.getElementById('audio-mute').value = audioClip.muted ? 'Mute' : 'Unmute';
                            audioClip.muted = audioClip.muted ? false : true;
                        }

                        function OnAudioFinished() {
                            audioPlayButton.disabled = false;
                            audioPauseButton.disabled = true;
                        }
                    </script>
                </div>


                <div class="slide" id="canvas-2d">

                    <section>
                        <header><h1>Canvas 2D</h1></header>
                        <style>
                            #canvas-area {
                                background: white;
                                -webkit-border-radius: 8px;
                                -khtml-border-radius: 8px;
                                -moz-border-radius: 8px;
                                border-radius: 8px;
                                border: 1px solid #bbb;
                            }
                        </style>
                        <pre>&lt;canvas id="canvas" width="838" height="220"&gt;&lt;/canvas&gt;

&lt;script&gt;
  var canvasContext = document.getElementById("canvas").<b>getContext</b>("2d");
  canvasContext.<b>fillRect</b>(250, 25, 150, 100);
  
  canvasContext.<b>beginPath</b>();
  canvasContext.<b>arc</b>(450, 110, 100, Math.PI * 1/2, Math.PI * 3/2);
  canvasContext.<b>lineWidth</b> = 15;
  canvasContext.<b>lineCap</b> = 'round';
  canvasContext.<b>strokeStyle</b> = 'rgba(255, 127, 0, 0.5)';
  canvasContext.<b>stroke</b>();
&lt;/script&gt;</pre>
                        <canvas id="canvas-area" width="838" height="225"></canvas>
                        <script defer>
                            var canvasContext = document.getElementById("canvas-area").getContext("2d");
                            canvasContext.fillRect(250, 25, 150, 100);
                            canvasContext.beginPath();
                            canvasContext.arc(450, 110, 100, Math.PI * 1/2, Math.PI * 3/2, false);
                            canvasContext.lineWidth = 15;
                            canvasContext.lineCap = 'round';
                            canvasContext.strokeStyle = 'rgba(255, 127, 0, 0.5)';
                            canvasContext.stroke();
                        </script>
                    </section>
                </div>


                <div class="slide" id="inline-svg">

                    <section>
                        <header><h1>Inline SVG</h1></header>
                        <style>
                            #svg {
                                -webkit-border-radius: 8px;
                                -khtml-border-radius: 8px;
                                -moz-border-radius: 8px;
                                border-radius: 8px;
                                border: 1px solid #bbb;
                            }
                        </style>

                        <pre>&lt;html&gt;
  <b>&lt;svg&gt;
    &lt;circle id="myCircle" class="important" cx="50%" cy="50%" r="100" 
        fill="url(#myGradient)"
        onmousedown="alert('hello');"/&gt;
  &lt;/svg&gt;</b>
&lt;/html&gt;</pre>

                        <div class="svg"></div>

                        <script defer>
                            // insert SVG using script until SVG in HTML5 is more widely supported
                            // (currently supported in IE 9 and Firefox nightlies only)
                            var container = document.getElementsByClassName('svg')[0];
                            var svgns = 'http://www.w3.org/2000/svg';
                            var svg = document.createElementNS(svgns, 'svg');
                            svg.setAttribute('width', '300px');
                            svg.setAttribute('height', '300px');
            
                            // our linearGradient
                            var defs = document.createElementNS(svgns, 'defs');
                            var gradient = document.createElementNS(svgns, 'linearGradient');
                            gradient.setAttribute('id', 'myGradient');
                            gradient.setAttribute('x1', '0%');
                            gradient.setAttribute('y1', '100%');
                            gradient.setAttribute('x2', '100%');
                            gradient.setAttribute('y2', '0%');
                            var stop = document.createElementNS(svgns, 'stop');
                            stop.setAttribute('offset', '5%');
                            stop.setAttribute('stop-color', 'red');
                            gradient.appendChild(stop);
                            stop = document.createElementNS(svgns, 'stop');
                            stop.setAttribute('offset', '95%');
                            stop.setAttribute('stop-color', 'blue');
                            stop.setAttribute('stop-opacity', '0.5');
                            gradient.appendChild(stop);
                            defs.appendChild(gradient);
                            svg.appendChild(defs);
            
                            // our example circle
                            var circle = document.createElementNS(svgns, 'circle');
                            circle.setAttribute('cx', '50%');
                            circle.setAttribute('cy', '50%');
                            circle.setAttribute('r', 100);
                            circle.setAttribute('fill', 'url(#myGradient)');
                            circle.setAttribute('stroke-color', 'red');
                            circle.addEventListener('mousedown', function() {
                                alert('hello');
                            }, false);
                            svg.appendChild(circle);
                            container.appendChild(svg);
                        </script>

                    </section>
                </div>



                <div class="slide" id="css3-title">
                    <section class="middle">
                        <h2>CSS3</h2>
                    </section>
                </div>

                <div class="slide" id="css-selectors">
                    <style>
                        .row {
                            padding: 4px;
                        }
                        .row:nth-child(even) {
                            background: #bbb;
                            color: white;
                        }
                    </style> 

                    <section class="left">
                        <header> <h1>CSS Selectors</h1></header>
                        <h2>Selectors</h2>
                        <pre>.row:<b>nth-child(even)</b> {
  background: #dde;
}
.row:<b>nth-child(odd)</b> {
  background: white;
}
                        </pre>
                        <div class="example"> 
                            <div class="row">Row 1</div> 
                            <div class="row">Row 2</div> 
                            <div class="row">Row 3</div> 
                            <div class="row">Row 4</div> 
                        </div>  
                        <h2>Image-like display</h2> 
                        <pre>div {
  display: <b>inline-block</b>;
}
                        </pre> 
                    </section> 

                    <section class="right"> 
                        <h2>Specific attributes</h2> 
                        <pre>input<b>[type="text"]</b> {
  background: #eee;
}</pre>          

                        <h2>Negation</h2> 
                        <pre><b>:not</b>(.box) {
  color: #00c; 
}            
<b>:not</b>(span) {
  display: block; 
}  
                        </pre> 

                        <h2>More specific targetting</h2> 
                        <pre>h2:<b>first-child</b> { ... }

div.text <b>&gt;</b> div { ... } 
h2 <b>+</b> header { ... } 
                        </pre>            
                    </section>
                    <footer><a href="http://www.w3.org/TR/CSS2/selector.html#pattern-matching">CSS2 selectors</a> and <a href="http://www.w3.org/TR/css3-selectors/#selectors">CSS3 selectors</a> introduced some of the ones demonstrated here.</footer>
                </div>






                <div class="slide styling" id="css-color">
                    <style>
                        #hsl-example {
                            font-size: 75px;
                            padding-top: 20px;
                            padding-right: 0px;
                            padding-bottom: 20px;
                            padding-left: 0px;
                            text-align: center;
                            color: rgb(21, 147, 38);
                        }
                        .hsl-value {
                            display: inline-block;
                            width: 50px;
                        }
                    </style>
                    <header><h1>Hue/saturation/luminance color</h1></header>
                    <section>
                        <pre>color: <b>hsla</b>(
  <span class="hsl-value" id="hsl-h-value">128</span> <input id="hsl-h" type="range" min="0" max="360" value="128" onchange="changeHSL()">
  <span class="hsl-value" id="hsl-s-value">74%</span> <input id="hsl-s" type="range" min="0" max="100" value="75" onchange="changeHSL()">
  <span class="hsl-value" id="hsl-l-value">33%</span> <input id="hsl-l" type="range" min="0" max="100" value="33" onchange="changeHSL()">
  <span class="hsl-value" id="hsl-a-value">1.00</span> <input id="hsl-a" type="range" min="0" max="100" value="100" onchange="changeHSL()">
                        </pre>

                        <div id="hsl-example" class="example">
                            HSL example
                        </div>

                        <script defer>
                            function changeHSL() {
                                var h = document.getElementById('hsl-h').value * 1.0;
                                var s = document.getElementById('hsl-s').value * 1.0;
                                var l = document.getElementById('hsl-l').value * 1.0;
                                var a = (document.getElementById('hsl-a').value / 100).toFixed(2);
                                var el = document.getElementById('hsl-example');

                                el.style.color = 'hsla(' + h + ', ' + s + '%, ' + l + '%, ' + a + ')';

                                document.getElementById('hsl-h-value').textContent = h;
                                document.getElementById('hsl-s-value').textContent = s + '%,';
                                document.getElementById('hsl-l-value').textContent = l + '%,';
                                document.getElementById('hsl-a-value').textContent = a + ');';
                            }

                            changeHSL();
                        </script>
                    </section>
                </div>





                <div class="slide styling" id="css-gradients">
                    <style>
                        #gradients-linear-example {
                            border: 0;
                            height: 100px;
                            background: -moz-linear-gradient(90deg, #00abeb, #fff, #66cc00, #fff);
                            background: -webkit-gradient(linear, left top, left bottom, from(#00abeb), to(#fff), color-stop(0.5, #fff), color-stop(0.5, #66cc00));
                        }
                        #gradients-radial-example {
                            border: 0;
                            height: 100px;
                            background: -moz-radial-gradient(430px 50px, circle cover, red 0, #000 200px);
                            background: -webkit-gradient(radial, 430 50, 0, 430 50, 200, from(red), to(#000));
                        }
                    </style>
                    <header> <h1>Gradients</h1></header>

                    <section>
                        <pre>background: -webkit-<b>gradient</b>(<b>linear</b>, left top, left bottom, 
                             from(#<span style="text-shadow: #00abeb 0 0 1px; color: #00abeb">00abeb</span>), to(white), 
                             color-stop(0.5, white), color-stop(0.5, <span style="text-shadow: #00abeb 0 0 1px; color: #66cc00">#66cc00</span>))
                        </pre>
                        <div id="gradients-linear-example" class="example"></div>
                        <br />
                        <pre>background: -webkit-gradient(<b>radial</b>, 430 50, 0, 430 50, <span id="gradients-radial-value">200</span>, from(red), to(#000))
                                                        <input id="gradients-radial" type="range" min="1" max="800" value="200" onchange="changeGradients(event)">
                        </pre>
                        <div id="gradients-radial-example" class="example"></div>

                        <script defer>
                            function changeGradients() {
                                var size = document.getElementById('gradients-radial').value;

                                document.getElementById('gradients-radial-example').style.background = 
                                    '-webkit-gradient(radial, 430 50, 0, 430 50, ' + size + ', from(red), to(#000))';

                                document.getElementById('gradients-radial-value').textContent = size;
                            }
                        </script>
                    </section>
                </div>

                <div class="slide styling" id="css-shadow">
                    <style>
                        #shadow-example {
                            font-size: 75px;
                            margin: 10px 10px 30px 10px;
                            padding: 20px;
                            text-align: center;
                        }
                    </style>
                    <header> <h1>Shadows</h1></header>
                    <section>
                        <pre class="two-column"><b>text-shadow</b>: 
  rgba(64, 64, 64, 0.5) 
  <span id="shadows-text-x-value">0</span>px <input id="shadows-text-x" type="range" min="-9" max="9" value="0" onchange="changeShadow(event)">
  <span id="shadows-text-y-value">0</span>px <input id="shadows-text-y" type="range" min="-9" max="9" value="0" onchange="changeShadow(event)">
  <span id="shadows-text-size-value">0</span>px; <input id="shadows-text-size" type="range" min="0" max="9" value="0" onchange="changeShadow(event)">
<br><b>box-shadow</b>: 
  rgba(0, 0, 128, 0.25) 
  <span id="shadows-box-x-value">0</span>px <input id="shadows-box-x" type="range" min="-9" max="9" value="0" onchange="changeShadow(event)">
  <span id="shadows-box-y-value">0</span>px <input id="shadows-box-y" type="range" min="-9" max="9" value="0" onchange="changeShadow(event)">
  <span id="shadows-box-size-value">0</span>px; <input id="shadows-box-size" type="range" min="0" max="9" value="0" onchange="changeShadow(event)">
                        </pre>

                        <div id="shadow-example" class="example">
                            Shadows example
                        </div>

                    </section>

                    <script defer>
                        function changeShadow() {
                            var el = document.getElementById('shadow-example');

                            var textXVal = document.getElementById('shadows-text-x').value;
                            var textYVal = document.getElementById('shadows-text-y').value;
                            var textSizeVal = document.getElementById('shadows-text-size').value;

                            document.getElementById('shadows-text-x-value').textContent = textXVal;
                            document.getElementById('shadows-text-y-value').textContent = textYVal;
                            document.getElementById('shadows-text-size-value').textContent = textSizeVal;

                            var boxXVal = document.getElementById('shadows-box-x').value;
                            var boxYVal = document.getElementById('shadows-box-y').value;
                            var boxSizeVal = document.getElementById('shadows-box-size').value;

                            document.getElementById('shadows-box-x-value').textContent = boxXVal;
                            document.getElementById('shadows-box-y-value').textContent = boxYVal;
                            document.getElementById('shadows-box-size-value').textContent = boxSizeVal;

                            el.style.textShadow = 'rgba(64, 64, 64, 0.5) ' + textXVal + 'px ' + textYVal + 'px ' + textSizeVal + 'px';
                            el.style.webkitBoxShadow = 'rgba(0, 0, 128, 0.25) ' + boxXVal + 'px ' + boxYVal + 'px ' + boxSizeVal + 'px';
                            el.style.MozBoxShadow = 'rgba(0, 0, 128, 0.25) ' + boxXVal + 'px ' + boxYVal + 'px ' + boxSizeVal + 'px';
                        }
                    </script>
                </div>


                <div class="slide transitionSlide" id="nuts-bolts-title">
                    <section class="middle">
                        <h2>Nuts &amp; Bolts</h2>
                        <p>Improvements to the core platform</p>

                    </section>
                </div>
                <div class="slide performance" id="custom-data">

                    <section ">
                        <header> <h1>Custom data-* attributes</h1></header>
                        <h2>Define, store, and retrieve custom data on the DOM.</h2>
                        <pre>&lt;div id="out" <b>data-id</b>="good" <b>data-name</b>="joe" <b>data-screen-name</b>="user1"&gt;&lt;/div&gt;</pre>

                        <pre>
// Add new data attributes via JS.
var el = document.querySelector('#out');
el.setAttribute('<em>data-foo</em>', 'bar');

var html = [];
for (var key in el.<b>dataset</b>) {
  html.push(key, ': ', el.<b>dataset</b>[key], '&lt;br&gt;');
}

el.innerHTML = html.join('');
                        </pre>

                        <p>Output:</p>
                        <pre>
id: good
name: joe
screenName: user1
foo: bar
                        </pre>
                    </section>
                </div>




                <div class="slide" id="browser-support">

                    <section>
                        <img width="1000" height="750" src="bcom.jpg"/>
                    
                    </section>
                </div>





                <div class="slide" id="formula-outro-slide">
                    <style>
                        p.resource-link {
                            font-size: 40px;
                        }
                        p.resource-link a {
                            color: blue;
                            text-decoration: underline;
                            border: none;
                        }
                    </style>
                    <section class="middle formula">
                        HTML5 ~=
                        <span class="html">HTML</span>
                        +
                        <span class="css">CSS</span>
                        +
                        <span class="js">JS</span>
                        <p>
                            HTML5 <em class="stroke">=</em> Next Generation Features for Modern Web Development
                        </p>
                        <p class="resource-link">
                            <a href="http://slides.html5rocks.com">http://slides.html5rocks.com</a>
                            <a href="http://www.html5rocks.com">http://www.html5rocks.com</a>
                        </p>
                    </section>
                </div>







            </div> <!-- slides --> 

        </div> <!-- presentation --> 

        <script> 
            (function() {
                
                //
                var doc = document;
                var disableBuilds = true;
 
                var ctr = 0;
                var spaces = /\s+/, a1 = [''];
 
                var toArray = function(list) {
                    return Array.prototype.slice.call(list || [], 0);
                };
 
                var byId = function(id) {
                    if (typeof id == 'string') { return doc.getElementById(id); }
                    return id;
                };
 
                var query = function(query, root) {
                    if (!query) { return []; }
                    if (typeof query != 'string') { return toArray(query); }
                    if (typeof root == 'string') {
                        root = byId(root);
                        if(!root){ return []; }
                    }
 
                    root = root || document;
                    var rootIsDoc = (root.nodeType == 9);
                    var doc = rootIsDoc ? root : (root.ownerDocument || document);
 
                    // rewrite the query to be ID rooted
                    if (!rootIsDoc || ('>~+'.indexOf(query.charAt(0)) >= 0)) {
                        root.id = root.id || ('qUnique' + (ctr++));
                        query = '#' + root.id + ' ' + query;
                    }
                    // don't choke on something like ".yada.yada >"
                    if ('>~+'.indexOf(query.slice(-1)) >= 0) { query += ' *'; }
 
                    return toArray(doc.querySelectorAll(query));
                };
 
                var strToArray = function(s) {
                    if (typeof s == 'string' || s instanceof String) {
                        if (s.indexOf(' ') < 0) {
                            a1[0] = s;
                            return a1;
                        } else {
                            return s.split(spaces);
                        }
                    }
                    return s;
                };
 
                var addClass = function(node, classStr) {
                    classStr = strToArray(classStr);
                    var cls = ' ' + node.className + ' ';
                    for (var i = 0, len = classStr.length, c; i < len; ++i) {
                        c = classStr[i];
                        if (c && cls.indexOf(' ' + c + ' ') < 0) {
                            cls += c + ' ';
                        }
                    }
                    node.className = cls.trim();
                };
 
                var removeClass = function(node, classStr) {
                    var cls;
                    if (classStr !== undefined) {
                        classStr = strToArray(classStr);
                        cls = ' ' + node.className + ' ';
                        for (var i = 0, len = classStr.length; i < len; ++i) {
                            cls = cls.replace(' ' + classStr[i] + ' ', ' ');
                        }
                        cls = cls.trim();
                    } else {
                        cls = '';
                    }
                    if (node.className != cls) {
                        node.className = cls;
                    }
                };
 
                var toggleClass = function(node, classStr) {
                    var cls = ' ' + node.className + ' ';
                    if (cls.indexOf(' ' + classStr.trim() + ' ') >= 0) {
                        removeClass(node, classStr);
                    } else {
                        addClass(node, classStr);
                    }
                };
 
                var ua = navigator.userAgent;
                var isFF = parseFloat(ua.split('Firefox/')[1]) || undefined;
                var isWK = parseFloat(ua.split('WebKit/')[1]) || undefined;
                var isOpera = parseFloat(ua.split('Opera/')[1]) || undefined;
 
                var canTransition = (function() {
                    var ver = parseFloat(ua.split('Version/')[1]) || undefined;
                    // test to determine if this browser can handle CSS transitions.
                    var cachedCanTransition = 
                        (isWK || (isFF && isFF > 3.6 ) || (isOpera && ver >= 10.5));
                    return function() { return cachedCanTransition; }
                })();
 
                //
                // Slide class
                //
                var Slide = function(node, idx) {
                    this._node = node;
                    if (idx >= 0) {
                        this._count = idx + 1;
                    }
                    if (this._node) {
                        addClass(this._node, 'slide distant-slide');
                    }
                    this._makeCounter();
                    this._makeBuildList();
                };
 
                Slide.prototype = {
                    _node: null,
                    _count: 0,
                    _buildList: [],
                    _visited: false,
                    _currentState: '',
                    _states: [ 'distant-slide', 'far-past',
                        'past', 'current', 'future',
                        'far-future', 'distant-slide' ],
                    setState: function(state) {
                        if (typeof state != 'string') {
                            state = this._states[state];
                        }
                        if (state == 'current' && !this._visited) {
                            this._visited = true;
                            this._makeBuildList();
                        }
                        removeClass(this._node, this._states);
                        addClass(this._node, state);
                        this._currentState = state;
 
                        // delay first auto run. Really wish this were in CSS.
                        /*
                this._runAutos();
                         */
                        var _t = this;
                        setTimeout(function(){ _t._runAutos(); } , 400);
                    },
                    _makeCounter: function() {
                        if(!this._count || !this._node) { return; }
                        var c = doc.createElement('span');
                        c.innerHTML = this._count;
                        c.className = 'counter';
                        this._node.appendChild(c);
                    },
                    _makeBuildList: function() {
                        this._buildList = [];
                        if (disableBuilds) { return; }
                        if (this._node) {
                            this._buildList = query('[data-build] > *', this._node);
                        }
                        this._buildList.forEach(function(el) {
                            addClass(el, 'to-build');
                        });
                    },
                    _runAutos: function() {
                        if (this._currentState != 'current') {
                            return;
                        }
                        // find the next auto, slice it out of the list, and run it
                        var idx = -1;
                        this._buildList.some(function(n, i) {
                            if (n.hasAttribute('data-auto')) {
                                idx = i;
                                return true;
                            }
                            return false;
                        });
                        if (idx >= 0) {
                            var elem = this._buildList.splice(idx, 1)[0];
                            var transitionEnd = isWK ? 'webkitTransitionEnd' : (isFF ? 'mozTransitionEnd' : 'oTransitionEnd');
                            var _t = this;
                            if (canTransition()) {
                                var l = function(evt) {
                                    elem.parentNode.removeEventListener(transitionEnd, l, false);
                                    _t._runAutos();
                                };
                                elem.parentNode.addEventListener(transitionEnd, l, false);
                                removeClass(elem, 'to-build');
                            } else {
                                setTimeout(function() {
                                    removeClass(elem, 'to-build');
                                    _t._runAutos();
                                }, 400);
                            }
                        }
                    },
                    buildNext: function() {
                        if (!this._buildList.length) {
                            return false;
                        }
                        removeClass(this._buildList.shift(), 'to-build');
                        return true;
                    },
                };
 
                //
                // SlideShow class
                //
                var SlideShow = function(slides) {
                    this._slides = (slides || []).map(function(el, idx) {
                        return new Slide(el, idx);
                    });
 
                    var h = window.location.hash;
                    try {
                        this.current = parseInt(h.split('#slide')[1], 10);
                    }catch (e) { /* squeltch */ }
                    this.current = isNaN(this.current) ? 1 : this.current;
                    var _t = this;
                    doc.addEventListener('keydown', 
                    function(e) { _t.handleKeys(e); }, false);
                    doc.addEventListener('mousewheel', 
                    function(e) { _t.handleWheel(e); }, false);
                    doc.addEventListener('DOMMouseScroll', 
                    function(e) { _t.handleWheel(e); }, false);
                    doc.addEventListener('touchstart', 
                    function(e) { _t.handleTouchStart(e); }, false);
                    doc.addEventListener('touchend', 
                    function(e) { _t.handleTouchEnd(e); }, false);
                    window.addEventListener('popstate', 
                    function(e) { _t.go(e.state); }, false);
                    this._update();          
                };
 
                SlideShow.prototype = {
                    _slides: [],
                    _update: function(dontPush) {
            
                        // catch to set things right on the initial load. popstate fires on pageload.
                        if (this.current === null) return;
            
                        document.querySelector('#presentation-counter').innerText = this.current;
                        if (history.pushState) {
                            if (!dontPush) {
                                history.pushState(this.current, 'Slide ' + this.current, '#slide' + this.current);
                            }
                        } else {
                            window.location.hash = 'slide' + this.current;
                        }
                        for (var x = this.current-1; x < this.current + 7; x++) {
                            if (this._slides[x-4]) {
                                this._slides[x-4].setState(Math.max(0, x-this.current));
                            }
                        }
                    },
 
                    current: 0,
                    next: function() {
                        if (!this._slides[this.current-1].buildNext()) {
                            this.current = Math.min(this.current + 1, this._slides.length);
                            this._update();
                        }
                    },
                    prev: function() {
                        this.current = Math.max(this.current-1, 1);
                        this._update();
                    },
                    go: function(num) {
                        if (history.pushState && this.current != num) {
                            history.replaceState(this.current, 'Slide ' + this.current, '#slide' + this.current);
                        }
                        this.current = num;
                        this._update(true);
                    },
 
                    _notesOn: false,
                    showNotes: function() {
                        var isOn = this._notesOn = !this._notesOn;
                        query('.notes').forEach(function(el) {
                            el.style.display = (notesOn) ? 'block' : 'none';
                        });
                    },
                    switch3D: function() {
                        toggleClass(document.body, 'three-d');
                    },
                    handleWheel: function(e) {
                        var delta = 0;
                        if (e.wheelDelta) {
                            delta = e.wheelDelta/120;
                            if (isOpera) {
                                delta = -delta;
                            }
                        } else if (e.detail) {
                            delta = -e.detail/3;
                        }
 
                        if (delta > 0 ) {
                            this.prev();
                            return;
                        }
                        if (delta < 0 ) {
                            this.next();
                            return;
                        }
                    },
                    handleKeys: function(e) {
                        if (/^(input|textarea)$/i.test(e.target.nodeName) ||
                            e.target.isContentEditable) {
                            return;
                        }
                        switch (e.keyCode) {
                            case 37: // left arrow
                                this.prev(); break;
                            case 39: // right arrow
                            case 32: // space
                                this.next(); break;
                            case 50: // 2
                                this.showNotes(); break;
                            case 51: // 3
                                this.switch3D(); break;
                        }
                    },
                    _touchStartX: 0,
                    handleTouchStart: function(e) {
                        this._touchStartX = e.touches[0].pageX;
                    },
                    handleTouchEnd: function(e) {
                        var delta = this._touchStartX - e.changedTouches[0].pageX;
                        var SWIPE_SIZE = 150;
                        if (delta > SWIPE_SIZE) {
                            this.next();
                        } else if (delta< -SWIPE_SIZE) {
                            this.prev();
                        }
                    },
                };
 
                // Initialize
                var slideshow = new SlideShow(query('.slide'));

                document.querySelector('#toggle-counter').addEventListener('click', toggleCounter, false);
                document.querySelector('#toggle-size').addEventListener('click', toggleSize, false);
                document.querySelector('#toggle-transitions').addEventListener('click', toggleTransitions, false);
                document.querySelector('#toggle-gradients').addEventListener('click', toggleGradients, false);
 
                var counters = document.querySelectorAll('.counter');
                var slides = document.querySelectorAll('.slide');
 
                function toggleCounter() {
                    toArray(counters).forEach(function(el) {
                        el.style.display = (el.offsetHeight) ? 'none' : 'block';
                    });
                }
        
                function toggleSize() {
                    toArray(slides).forEach(function(el) {
                        if (!/reduced/.test(el.className)) {
                            addClass(el, 'reduced');
                        }
                        else {
                            removeClass(el, 'reduced');
                        }
                    });
                }
 
                function toggleTransitions() {
                    toArray(slides).forEach(function(el) {
                        if (!/no-transitions/.test(el.className)) {
                            addClass(el, 'no-transitions');
                        }
                        else {
                            removeClass(el, 'no-transitions');
                        }
                    });
                }
        
                function toggleGradients() {
                    toArray(slides).forEach(function(el) {
                        if (!/no-gradients/.test(el.className)) {
                            addClass(el, 'no-gradients');
                        }
                        else {
                            removeClass(el, 'no-gradients');
                        }
                    });
                }
                toggleSize();
            })();
        </script> 
        <script type="text/javascript">
         
        </script>


        <!--[if lt IE 9]>
        <script 
          src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">
        </script>
        <script>CFInstall.check({ mode: "overlay" });</script>
        <![endif]--> 
        <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
    </body> 
</html>